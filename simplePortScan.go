package main

import (
        "fmt"
        "net"
)

func main() {
        //      var err error
        for i := 1; i < 1024; i++ { //scanning first 1024 ports
                addr := fmt.Sprintf("scanme.nmap.org:%d", i) //storing string in addr after iterating for each port number
                fmt.Println("Scanning: ", addr)
                conn, err := net.Dial("tcp", addr) //net.Dial returns two things, 1 - a network connection called 'conn' (if connection is started) 2- an error object err -> nil if successful.
                //              fmt.Println(conn)
                if err == nil { //No error? Connection successful!
                        fmt.Printf("Connection Successful for port %d!\n", i)
                } else {
                        continue //error? Skip this port.
                        fmt.Printf("Connection Failed for port %d\n", i)
                }
                conn.Close() // good habit to close connection before starting another one
        }
}
    
